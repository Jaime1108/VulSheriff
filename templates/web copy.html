<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VulSheriff - Vulnerability Bounty Hunter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <style>
    
    </style>
</head>
<body class="western-bg min-h-full">
    <div class="min-h-full">
        <!-- Header -->
        <header class="leather-texture border-b-4 border-yellow-600 shadow-lg">
            <div class="max-w-6xl mx-auto px-4 py-6">
                <div class="flex items-center justify-center space-x-4">
                    <div class="sheriff-badge w-16 h-16 flex items-center justify-center">
                        <span class="text-2xl">‚≠ê</span>
                    </div>
                    <div class="text-center">
                        <h1 class="cowboy-font text-4xl md:text-6xl text-yellow-300 drop-shadow-lg">
                            VulSheriff
                        </h1>
                        <p class="text-yellow-200 text-lg md:text-xl font-bold">
                            ü§† Vulnerability Bounty Hunter ü§†
                        </p>
                    </div>
                    <div class="sheriff-badge w-16 h-16 flex items-center justify-center">
                        <span class="text-2xl">‚≠ê</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="max-w-4xl mx-auto px-4 py-8">
            <!-- Welcome Message -->
            <div class="rope-border bg-amber-50 p-6 mb-8 shadow-xl">
                <div class="text-center">
                    <h2 class="cowboy-font text-3xl text-amber-900 mb-4">
                        üéØ Howdy, Partner! üéØ
                    </h2>
                    <p class="text-amber-800 text-lg">
                        Welcome to VulSheriff's AI-powered vulnerability hunting station! 
                        Drop your code or describe your security concerns, and I'll help you track down those pesky bugs faster than a tumbleweed in a tornado!
                    </p>
                </div>
            </div>
            
            <!-- Chat Interface -->
            <div class="rope-border bg-white shadow-2xl">
                <!-- Chat Header -->
                <div class="leather-texture px-6 py-4 border-b-2 border-amber-600">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center">
                            <span class="text-xl">ü§ñ</span>
                        </div>
                        <div>
                            <h3 class="cowboy-font text-xl text-yellow-200">Sheriff AI Assistant</h3>
                            <p class="text-yellow-300 text-sm">Ready to hunt vulnerabilities</p>
                        </div>
                        <div class="ml-auto">
                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                üü¢ Online
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Chat Messages Area -->
    
                {% block content %}
                <!-- Input Form -->
                <form id="chatForm" action="{{ url_for('analyze') }}" method="post" enctype="multipart/form-data" class="border-t-2 border-amber-200 p-6 bg-amber-25">
                        <!-- Text Input -->
                        <div>
                            <label for="messageInput" class="block text-sm font-bold text-amber-900 mb-2">
                                üó®Ô∏è Describe your security concern or ask a question:
                            </label>
                            <textarea 
                                id="messageInput" name ="notes"
                                rows="3" 
                                class="w-full px-4 py-3 border-2 border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 resize-none"
                                placeholder="Tell me about the vulnerability you want to investigate, or ask any security-related question..."
                            ></textarea>
                        </div>

                        <!-- File Upload -->
                        <div>
                            <label for="fileInput" class="block text-sm font-bold text-amber-900 mb-2">
                                üìÅ Upload a file for analysis (optional):
                            </label>
                            <div class="relative">
                                <input 
                                    type="file" 
                                    id="fileInput" 
                                    class="hidden"
                                    accept=".txt,.js,.py,.php,.java,.cpp,.c,.html,.css,.json,.xml,.log,.zip"
                                    name="zip_file"
                                >
                                <label 
                                    for="fileInput" 
                                    class="flex items-center justify-center w-full px-4 py-6 border-2 border-dashed border-amber-400 rounded-lg cursor-pointer hover:bg-amber-50 transition-colors"
                                >
                                
                                    <div class="text-center">
                                        <span class="text-3xl mb-2 block">üìé</span>
                                        <span class="text-amber-700 font-medium">Click to upload file</span>
                                        <p class="text-amber-600 text-sm mt-1">Supports code files, logs, and documents</p>
                                    </div>
                                </label>
                            </div>
                            <div id="fileInfo" class="mt-2 text-sm text-amber-700 hidden">
                                <span class="inline-flex items-center px-2 py-1 rounded bg-amber-200">
                                    <span id="fileName"></span>
                                    <button type="button" id="removeFile" class="ml-2 text-amber-800 hover:text-red-600">‚úï</button>
                                </span>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="flex justify-end">
                            <button 
                                type="submit" 
                                id="submitBtn"
                                class="cowboy-font px-8 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-lg hover:from-amber-700 hover:to-amber-800 focus:ring-4 focus:ring-amber-300 transition-all duration-200 shadow-lg text-lg font-bold"
                            >
                                üîç Hunt Vulnerabilities!
                            </button>
                            {% endblock %}
                        </div>
                    </div>
                </form>
            </div>

            <!-- Footer Info -->
            <div class="mt-8 text-center">
                <p class="text-amber-200 text-sm">
                    üõ°Ô∏è Powered by AI ‚Ä¢ Securing the digital frontier one vulnerability at a time ‚Ä¢ üõ°Ô∏è
                </p>
            </div>
        </main>
    </div>
    <script>
        const fileInput = document.getElementById('fileInput');
        const fileInfo = document.getElementById('fileInfo');
        const fileName = document.getElementById('fileName');
        const removeFile = document.getElementById('removeFile');
        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                selectedFile = file;
                fileName.textContent = `üìÑ ${file.name} (${(file.size / 1024).toFixed(1)} KB)`;
                fileInfo.classList.remove('hidden');
            }
        });

        // Remove file
        removeFile.addEventListener('click', function() {
            selectedFile = null;
            fileInput.value = '';
            fileInfo.classList.add('hidden');
        });
    </script>
    </html>
